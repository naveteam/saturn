import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'

import { Loader } from '../components'
import { ThemeProvider } from '../theme'

<Meta title='Data Display/Loader' component={Loader} />

# Loader

export const LoaderBase = args => (
  <ThemeProvider>
    <Loader {...args} />
  </ThemeProvider>
)

O componente `Loader` é utilizado para apresentar carregamentos de forma visual ao usuário. Estando disponível com os tamanhos `major` (padrão) e `icon`. Juntamente com as variants com tempo definido (`determinate`) e sem tempo definido (`indeterminate` - padrão).

<Story
  name='Base'
  parameters={{
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Saturn-System?node-id=245%3A0'
    }
  }}
>
  {LoaderBase.bind({})}
</Story>


# Size

O `Loader` possuí a prop `size` que pode receber três valores possíveis, `sm`, `md` e `lg`, que indicam o tamanho do `Loader`, por padrão é `lg`.

<Canvas>
  <Story
    name='Size'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Saturn-System?node-id=245%3A0'
      }
    }}
  >
    <ThemeProvider>
      <Loader size='lg' />
      <Loader size='md' />
      <Loader size='sm' />
    </ThemeProvider>
  </Story>
</Canvas>

# Types

O `Loader` recebe a prop `type` que indica uma entre as duas variações possíveis, `determinate` e `indeterminate` - padrão.

Quando for a variação `determinate`, é necessário também passar uma prop chamada `percentage`, é um valor que indica a porcentagem de carregamento já realizado e junto com esta prop opcionalmente também é possível passar uma prop chamada `showPercentage` que é um booleano que define se esta porcentagem vai ser mostrada em texto, mas este texto só será exibido quando o `size` do `Loader` também for `lg`.

Quando for a variação `indeterminate`, o tempo de ciclo do loader por padrão é 5 segundos, mas este valor pode ser passado passando um número pela prop `time` indicando o tempo desejado para o ciclo do loader.

<Canvas>
  <Story
    name='Variants'
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/O3bKxIcsj2rc1FNIRclJyT/Saturn-System?node-id=245%3A0'
      }
    }}
  >
    <ThemeProvider>
      <Loader percentage={30} showPercentage type='determinate' />
      <Loader percentage={30} type='determinate' />
      <Loader type='indeterminate' />
      <Loader type='indeterminate' time={8} />
    </ThemeProvider>
  </Story>
</Canvas>

<ArgsTable of={Loader} />
